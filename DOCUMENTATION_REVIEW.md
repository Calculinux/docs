# Documentation Review - Speculative Content Identified

Date: October 22, 2025

This document identifies content in the documentation that appears to be autogenerated speculation and needs verification or removal.

## Critical Issues - Incorrect Information

### 1. Repository Structure (developer/overview.md)

**Location**: `docs/developer/overview.md` lines ~105-130

**Issue**: The documented repository structure is **incorrect**. The documentation shows:
```
meta-calculinux/
‚îú‚îÄ‚îÄ conf/
‚îÇ   ‚îú‚îÄ‚îÄ machine/          # Machine configurations
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ picocalc-luckfox.conf
‚îÇ   ‚îú‚îÄ‚îÄ distro/           # Distribution config
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ calculinux.conf
‚îÇ   ‚îî‚îÄ‚îÄ layer.conf        # Layer configuration
```

**Actual Structure**:
```
meta-calculinux/
‚îú‚îÄ‚îÄ meta-calculinux-distro/
‚îÇ   ‚îú‚îÄ‚îÄ conf/distro/calculinux-distro.conf
‚îÇ   ‚îú‚îÄ‚îÄ recipes-bsp/
‚îÇ   ‚îú‚îÄ‚îÄ recipes-connectivity/
‚îÇ   ‚îú‚îÄ‚îÄ recipes-core/
‚îÇ   ‚îú‚îÄ‚îÄ recipes-extended/
‚îÇ   ‚îî‚îÄ‚îÄ recipes-support/
‚îú‚îÄ‚îÄ meta-picocalc-bsp-rockchip/
‚îÇ   ‚îú‚îÄ‚îÄ conf/machine/luckfox-lyra.conf
‚îÇ   ‚îú‚îÄ‚îÄ recipes-bsp/
‚îÇ   ‚îî‚îÄ‚îÄ recipes-kernel/
‚îî‚îÄ‚îÄ meta-calculinux-apps/
    ‚îú‚îÄ‚îÄ recipes-connectivity/
    ‚îî‚îÄ‚îÄ recipes-core/packagegroups/
```

**Action**: Complete rewrite needed. The structure is a multi-layer Yocto setup, not a single layer.

### 2. Non-existent Repositories

**Location**: `docs/developer/overview.md` lines ~130-135

**Issue**: Documentation references:
- `linux-calculinux`: Kernel source (fork)
- `u-boot-calculinux`: Bootloader source (fork)

**Reality**: These repositories **do not exist**. The actual kernel is:
- `linux-rockchip_6.1.bbappend` which uses `git://github.com/0xd61/luckfox-linux-6.1-rk3506.git`

**Action**: Remove references to non-existent repositories. Document the actual external dependencies.

### 3. Non-existent Images

**Location**: `docs/developer/overview.md` lines ~290-310

**Issue**: Documentation references:
- `calculinux-minimal`
- `calculinux-base.bb`
- `calculinux-custom.bb`

**Reality**: Only two images exist:
- `calculinux-image.bb` - The main image
- `calculinux-bundle.bb` - The RAUC update bundle

**Action**: Remove references to non-existent images. Update examples to use actual image names.

### 4. Incorrect devtool Commands

**Location**: `docs/developer/overview.md` lines ~277-287

**Issue**: Commands reference non-existent components:
```bash
bitbake linux-calculinux -c unpack
```

**Reality**: Should be `linux-rockchip` not `linux-calculinux`

**Action**: Update all devtool examples to reference actual recipe names.

### 5. Filesystem Expansion (RESOLVED)

**Location**: `docs/getting-started/first-boot.md` lines ~80

**Issue**: Documentation incorrectly suggested manual filesystem expansion was needed.

**Reality**: Filesystem expansion is **automatic** via the overlayfs pre-init script (`overlayfs-etc-preinit.sh.in`). The script uses `growpart` to automatically expand the overlay partition to fill available space (leaving 10% free) during first boot.

**Action**: ‚úÖ **FIXED** - Updated documentation to explain automatic expansion process.

## High Priority - Unverified Claims

### 6. Network Configuration Commands (RESOLVED)

**Location**: `docs/getting-started/first-boot.md` lines ~120-135

**Issue**: Incorrectly used `udhcpc` command for network configuration.

**Reality**: 
- WiFi configuration uses `iwd` (iNet Wireless Daemon) with `iwctl` command
- Ethernet uses `systemd-networkd` for automatic DHCP
- WiFi requires external USB adapter (3.3V compatible) - not built into hardware
- Supported WiFi chipsets: RTL8723DU, RTL8812AU, RTL8814AU, RTL8821CU, RTL88X2BU

**Action**: ‚úÖ **FIXED** - Added comprehensive iwctl guide and WiFi driver documentation.

### 7. Default User Password

**Location**: `docs/getting-started/first-boot.md` lines ~30-35 and multiple locations

**Issue**: Documentation says:
```
Username: root
Password: root
```

**But also mentions**: A `pico` user with password `calc`

**Reality from code**:
- Root password hash: `$6$mwqqduWKbrqg9ufl...` (labeled as "root")
- Pico password hash: `$6$G4enDnQY4liXfauo...` (labeled as "calc")

**Action**: Verify the actual default passwords match what's documented.

## Medium Priority - Speculation

### 8. Hardware Peripherals (RESOLVED)

**Location**: Multiple files reference hardware features

**Issue**: Documentation speculated about various hardware without clear status.

**Reality**:
- **Tested/Working**: Display (built-in LCD), Keyboard (built-in), USB WiFi adapters (with listed chipsets)
- **Hardware Not Built-in**: WiFi, audio, most peripherals - must be added externally
- **Planned/Untested**: I2C RTC (DS3231), LoRa radio (Waveshare Core1262-868M), other I2C/SPI devices
- **USB WiFi Requirements**: Must operate at 3.3V, connected to USB header on Lyra

**Action**: ‚úÖ **FIXED** - Added clear distinction between tested hardware and future/planned peripherals.

### 9. Build Times

**Location**: `docs/developer/overview.md` and `docs/developer/building.md`

**Issue**: Claims "2-8 hours" for builds and "2-6 hours" in another location

**Action**: These are reasonable estimates but should be marked as approximate and hardware-dependent.

### 10. Systemd Services

**Location**: Multiple locations

**Issue**: Documentation assumes various systemd services without verification

**Verification Needed**: 
- Check `systemd-conf_%.bbappend` - it only installs journald.conf, wlan.network, 98-wifi.link, ttyblank.conf
- No evidence of many services mentioned in troubleshooting docs

**Action**: Audit all systemd service references against actual configuration files.

## Low Priority - Style Issues

### 11. Stub Page Links

**Issue**: Many internal documentation links point to stub pages that don't exist yet

**Action**: Either:
1. Remove links to non-existent pages
2. Add note "(Coming Soon)" to stub links
3. Priority: Create those pages

### 12. Example Code Inconsistency

**Issue**: Some example code uses:
- Python syntax for BitBake recipes (mostly correct)
- Bash syntax that may not match actual system configuration
- Generic package names that don't exist in the feed

**Action**: Standardize all examples to use actual Calculinux packages and tested commands.

## Recommendations

### Immediate Actions Required:

1. **Fix Repository Structure** - This is completely wrong and will confuse developers
2. **Remove Non-existent Repos** - linux-calculinux and u-boot-calculinux don't exist
3. **Fix Image Names** - Only calculinux-image and calculinux-bundle exist
4. **Verify Passwords** - Test default passwords match documentation
5. **Fix expand-filesystem** - Either add the script or document growpart usage

### Documentation Process Improvements:

1. **Require Testing**: All command examples should be tested on actual hardware before documenting
2. **Source Truth**: Link documentation to actual source files where possible
3. **Version Tracking**: Add notes about which build version the documentation applies to
4. **Review Tags**: Add `<!-- NEEDS VERIFICATION -->` comments to speculative content

### Suggested Documentation Tags:

```markdown
!!! warning "Unverified"
    This section has not been verified on actual hardware and may need adjustment.

!!! todo "Documentation Needed"
    This feature exists but needs proper documentation.

!!! note "Hardware Dependent"
    This behavior may vary depending on your hardware configuration.
```

## Files Requiring Immediate Attention:

1. ‚úÖ HIGH: `docs/developer/overview.md` - Repository structure section (FIXED)
2. ‚úÖ HIGH: `docs/developer/overview.md` - Development tasks section (FIXED)
3. ‚úÖ MEDIUM: `docs/getting-started/first-boot.md` - Expand filesystem and network commands (FIXED)
4. ‚ùå HIGH: `docs/getting-started/installation.md` - Image names, default passwords (NEEDS FIX)
5. ‚ùå HIGH: `docs/hardware/compatibility.md` - WiFi support status (NEEDS FIX)
6. ‚ùå HIGH: Multiple files - Desktop/GUI claims (NEEDS FIX - NO GUI exists!)
7. ‚ö†Ô∏è MEDIUM: All files - Verify systemd service references
8. ‚ÑπÔ∏è LOW: Multiple files - Remove or mark stub page links

## Additional Critical Issues Found (Second Review)

### 9. Image Names and Variants (HIGH PRIORITY)

**Location**: `docs/getting-started/installation.md`, `docs/getting-started/overview.md`

**Issue**: Documentation claims multiple image variants exist:
- `calculinux-minimal-*.img.xz` - Console only
- `calculinux-base-*.img.xz` - Basic GUI
- `calculinux-full-*.img.xz` - Full desktop

**Reality**: Only **ONE** image exists:
- `calculinux-image-luckfox-lyra.rootfs.wic.gz` - The single image
- `calculinux-bundle-luckfox-lyra.raucb` - RAUC update bundle (not a full image)

**Action**: Remove all references to minimal/base/full variants. Document the single image.

### 10. Default Password (HIGH PRIORITY)

**Location**: `docs/getting-started/installation.md` line ~220, `docs/getting-started/first-boot.md`

**Issue**: Documentation says:
```
Username: root
Password: calculinux
```

**Reality** (verified from calculinux-image.bb):
- Root password: `root` (password hash comment confirms this)
- Pico user: `pico` with password `calc`

**Action**: Fix all password references. Document both users.

### 11. Desktop/GUI Claims (CRITICAL)

**Location**: Multiple files claim GUI/desktop support

**Issue**: Documentation extensively discusses:
- X11 display server
- Desktop environments
- Window managers
- GUI applications

**Reality**: **NO GUI/DESKTOP IS INSTALLED**
- DISTRO_FEATURES does not include x11 or wayland
- No window manager or desktop packages installed
- Console-only system

**Action**: Remove ALL desktop/GUI references or clearly mark as "future planned feature"

### 12. WiFi Support Status (HIGH PRIORITY)

**Location**: `docs/hardware/compatibility.md`

**Issue**: Claims WiFi is "üöß Untested" or "Future USB WiFi dongle support"

**Reality**: WiFi **IS SUPPORTED** with 5 Realtek chipsets:
- RTL8723DU, RTL8812AU, RTL8814AU, RTL8821CU, RTL88X2BU
- Drivers included in kas-luckfox-lyra-bundle.yaml
- Already documented in first-boot.md correctly

**Action**: Update hardware compatibility matrix to show WiFi as supported.

### 13. Filesystem Resize Instructions (MEDIUM PRIORITY)

**Location**: `docs/getting-started/installation.md` lines ~240-260

**Issue**: Contains manual fdisk resize instructions

**Reality**: Filesystem resize is **automatic** via pre-init script

**Action**: Remove manual resize instructions, refer to automatic process.

## Next Steps:

1. ‚úÖ Fix repository structure documentation (DONE)
2. ‚úÖ Fix network configuration (DONE)
3. ‚úÖ Fix filesystem expansion docs (DONE)
4. ‚úÖ Fix image names/variants (DONE)
5. ‚úÖ Fix default passwords (DONE)
6. ‚úÖ Remove/fix ALL desktop/GUI claims (DONE)
7. ‚úÖ Update WiFi compatibility status (DONE)
8. ‚úÖ Remove manual resize instructions (DONE)

## Summary of Third Review Corrections

### Files Corrected:
1. **installation.md**: 
   - Fixed image names (removed minimal/base/full variants, documented single image)
   - Fixed default passwords (root/root, pico/calc)
   - Removed manual filesystem resize instructions
   - Removed "Full Image" GUI claims
   - Fixed boot expectations (console-only)

2. **compatibility.md**:
   - Updated RAM recommendations (removed desktop references)
   - Fixed network capability (WiFi marked as supported)
   - Added complete WiFi chipset table with 5 supported Realtek drivers
   - Removed "Desktop Environments" section, replaced with console-only clarification
   - Updated applications table to show console tools only
   - Fixed USB mouse description (removed "For GUI use")
   - Updated use case descriptions (removed desktop references)

3. **overview.md**:
   - Added console-only clarification to limitations
   - Added WiFi adapter requirement (3.3V) to optional hardware
   - Removed "Optional graphical desktop environment" claim
   - Added "No Built-in Network" to limitations

4. **luckfox-lyra.md**:
   - Changed "Linux desktop" to "Linux console applications" in performance description

5. **external-docs.md**:
   - Added note that desktop environment resources are for future reference only

### Status:
All major documentation inaccuracies from three systematic reviews have been corrected. Documentation now accurately reflects the actual Calculinux implementation:
- Console-only system (no GUI/desktop)
- Single image (calculinux-image-luckfox-lyra.rootfs.wic.gz)
- Correct default passwords (root/root, pico/calc)
- WiFi support with 5 Realtek chipsets
- Automatic filesystem expansion
- iwd/iwctl for WiFi networking
